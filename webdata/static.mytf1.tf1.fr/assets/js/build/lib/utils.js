!function(root){function Utils(){return this}Utils.prototype.getOffset=function(e){for(var t=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,r+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:r,left:t}},Utils.prototype.getCoordinates=function(e,t){var r,o,n=this.getOffset(e);if(-1!=navigator.appVersion.indexOf("MSIE")){var s="CSS1Compat"==document.compatMode?document.documentElement:document.body;r=event.clientX+s.scrollLeft,o=event.clientY+s.scrollTop}else r=t.pageX,o=t.pageY;return{x:r-n.left,y:o-n.top}},Utils.prototype.posY=function(e){for(var t=e,r=0;t&&"body"!==t.tagName.toLowerCase();)r+=t.offsetTop,t=t.offsetParent;return r},Utils.prototype.scrollY=function(){var e=0;return"number"==typeof window.pageYOffset?e=window.pageYOffset:document.body&&(document.body.scrollLeft||document.body.scrollTop)?e=document.body.scrollTop:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(e=document.documentElement.scrollTop),e},Utils.prototype.parseScript=function(strcode){for(var scripts=new Array;strcode.indexOf("<script")>-1||strcode.indexOf("</script")>-1;){var s=strcode.indexOf("<script"),s_e=strcode.indexOf(">",s),e=strcode.indexOf("</script",s),e_e=strcode.indexOf(">",e);scripts.push(strcode.substring(s_e+1,e)),strcode=strcode.substring(0,s)+strcode.substring(e_e+1)}for(var lengthScript=scripts.length,i=0;lengthScript>i;i++)try{eval(scripts[i])}catch(ex){}return this},Utils.prototype.is_touch_device=function(){return"ontouchstart"in window||"onmsgesturechange"in window},Utils.prototype.hasClass=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},Utils.prototype.addClass=function(e,t){this.hasClass(e,t)||(e.className+=" "+t)},Utils.prototype.removeClass=function(e,t){if(this.hasClass(e,t)){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(r," ").trim()}},Utils.prototype.toggleClass=function(e,t){this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)},Utils.prototype.fetchJSONFile=function(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=JSON.parse(r.responseText);t&&t(e)}},r.open("GET",e),r.send()},Utils.prototype.parseUri=function(e){for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=t.parser[t.strictMode?"strict":"loose"].exec(e),o={},n=14;n--;)o[t.key[n]]=r[n]||"";return o[t.q.name]={},o[t.key[12]].replace(t.q.parser,function(e,r,n){r&&(o[t.q.name][r]=n)}),o},Utils.prototype.setCssTranslateX=function(e,t){e.style.webkitTransform="translateX("+t+"px)",e.style.MozTransform="translateX("+t+"px)",e.style.msTransform="translateX("+t+"px)",e.style.OTransform="translateX("+t+"px)",e.style.transform="translateX("+t+"px)"};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,o,n,s,a,i,c="",l=0;for(e=Base64._utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),r=e.charCodeAt(l++),o=e.charCodeAt(l++),n=t>>2,s=(3&t)<<4|r>>4,a=(15&r)<<2|o>>6,i=63&o,isNaN(r)?a=i=64:isNaN(o)&&(i=64),c=c+this._keyStr.charAt(n)+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(i);return c},decode:function(e){var t,r,o,n,s,a,i,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)n=this._keyStr.indexOf(e.charAt(l++)),s=this._keyStr.indexOf(e.charAt(l++)),a=this._keyStr.indexOf(e.charAt(l++)),i=this._keyStr.indexOf(e.charAt(l++)),t=n<<2|s>>4,r=(15&s)<<4|a>>2,o=(3&a)<<6|i,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(r)),64!=i&&(c+=String.fromCharCode(o));return c=Base64._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var o=e.charCodeAt(r);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",r=0,o=c1=c2=0;r<e.length;)o=e.charCodeAt(r),128>o?(t+=String.fromCharCode(o),r++):o>191&&224>o?(c2=e.charCodeAt(r+1),t+=String.fromCharCode((31&o)<<6|63&c2),r+=2):(c2=e.charCodeAt(r+1),c3=e.charCodeAt(r+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),r+=3);return t}};Utils.prototype.decode64=function(e){if(window.atob)return unescape(decodeURIComponent(window.atob(e)));var t=Base64.decode(e);return t},Utils.prototype.encode64=function(e){if(window.btoa)return window.btoa(unescape(encodeURIComponent(e)));var t=Base64.encode(e);return t},Utils.prototype.img_fit_wrapper=function(e,t){var r=new Image,o=e.getAttribute("src")||!1;o&&"#"!==o&&(r.src=o);var n=setInterval(function(){0!=r.width&&0!=r.height&&(clearInterval(n),r.width/r.height<t.offsetWidth/t.offsetHeight?(utils.addClass(e,"full-height"),utils.removeClass(e,"full-width")):(utils.addClass(e,"full-width"),utils.removeClass(e,"full-height")))},0)},Utils.prototype.activate_scroll_events=function(e){function t(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function r(e){for(var r=a.length;r--;)if(e.keyCode===a[r])return void t(e)}function o(e){t(e)}function n(){window.addEventListener&&window.addEventListener("DOMMouseScroll",o,!1),window.onmousewheel=document.onmousewheel=o,document.onkeydown=r}function s(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",o,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null}var a=[37,38,39,40];e?s():n()},Utils.prototype.ajax=function(e,t){var r=new XMLHttpRequest;r.open(t.method,e),r.withCredentials=t.withCredentials?!0:!1,r.setRequestHeader("Content-Type","application/json"),r.onload=function(){try{var e=JSON.parse(r.responseText)}catch(o){var e=r.responseText}200===r.status?t.success(e,r):t.error&&t.error(e,r)}.bind(this),r.send(JSON.stringify(t.data))},Utils.prototype.serialize=function(e,t){var t="undefined"!=typeof t?!0:!1;if(e&&"FORM"===e.nodeName){var r,o,n={};for(r=e.elements.length-1;r>=0;r-=1)if(""!==e.elements[r].name)switch(e.elements[r].nodeName){case"INPUT":switch(e.elements[r].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":(""!=e.elements[r].value||t)&&(n[e.elements[r].name]=e.elements[r].value);break;case"checkbox":case"radio":e.elements[r].checked&&(""!=e.elements[r].value||t)&&(n[e.elements[r].name]=e.elements[r].value);break;case"file":}break;case"TEXTAREA":(""!=e.elements[r].value||t)&&(n[e.elements[r].name]=e.elements[r].value);break;case"SELECT":switch(e.elements[r].type){case"select-one":(""!=e.elements[r].value||t)&&(n[e.elements[r].name]=e.elements[r].value);break;case"select-multiple":for(o=e.elements[r].options.length-1;o>=0;o-=1)e.elements[r].options[o].selected&&(n[e.elements[r].name]=e.elements[r].options[o].value)}break;case"BUTTON":switch(e.elements[r].type){case"reset":case"submit":case"button":(""!=e.elements[r].value||t)&&(n[e.elements[r].name]=e.elements[r].value)}}return n}};var device_to_mediaMinWidth={desktop:1025,tablet:768,mobile:0};Utils.prototype.createPicture=function(e){var t=document.createElement("picture");for(var r in e){var o=document.createElement("source");o.setAttribute("srcset",e[r]),o.setAttribute("media","(min-width: "+device_to_mediaMinWidth[r]+"px)"),t.appendChild(o)}var n=document.createElement("img");return n.setAttribute("src",e.mobile),t.appendChild(n),t},Utils.prototype.insertAndExecute=function(e,t){var r;r="string"==typeof e?document.getElementById(e):e,r.innerHTML=t;var o,n=[];o=r.childNodes;for(var s=0;o[s];s++)!n||!this.nodeName(o[s],"script")||o[s].type&&"text/javascript"!==o[s].type.toLowerCase()||n.push(o[s].parentNode?o[s].parentNode.removeChild(o[s]):o[s]);var a;for(a in n)this.evalScript(n[a]);this.parseScript(r.innerHTML)},Utils.prototype.nodeName=function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},Utils.prototype.removeElement=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Utils.prototype.evalScript=function(e){var t=e.src;if(t){var r=document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script");o.type="text/javascript",o.src=t,r.appendChild(o)}},Utils.prototype.insertAndExecuteWithOnLoad=function(e,t){var r;r=document.getElementById(e),r.innerHTML=t;var o,n=[];o=r.childNodes;for(var s=0;o[s];s++)!n||!this.nodeName(o[s],"script")||o[s].type&&"text/javascript"!==o[s].type.toLowerCase()||n.push(o[s].parentNode?o[s].parentNode.removeChild(o[s]):o[s]);var a;for(a in n){var i=n[a].src;if(i){var c=document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.type="text/javascript",a.src=i,a.onload=function(){this.parseScript(t)}.bind(this),c.appendChild(a)}}},Utils.prototype.isScrolledIntoView=function(e){var t=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom;return t>=0&&r<=window.innerHeight},define(function(){return Utils})}(this);