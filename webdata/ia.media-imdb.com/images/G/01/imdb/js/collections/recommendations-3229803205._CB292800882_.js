!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";!function(a){"_gaq"in window||(window._gaq=[])}(jQuery)},{}],2:[function(a,b,c){"use strict";!function(a,b){function c(b,c,d){var e="/rg/"+b+"/"+c+"/";"consoleLog"in window&&consoleLog(e,"recs"),a("<img>").attr("src",e+"/images/b.gif"+(d?"?link="+d:""))}function d(a,b){c("recs-"+g,a,b)}function e(a,b,c){for(var d=b+"";d.length<c;)d=a+d;return d}var f=a("#title_recs"),g=f.attr("data-caller-name")||"unknown";f.delegate(".rec_nav_left","click",function(){d("nav_left")}),f.delegate(".rec_nav_right","click",function(){d("nav_right")}),f.delegate(".rec_not_interested","click",function(){d("not_interested")}),f.delegate(".rec_next","click",function(){d("next")}),f.delegate(".add_to_watchlist a","click",function(){d("watchlist")}),f.delegate(".rating-list","change.rating",function(b,c){var f=(a(this),e("0",c.rating,2)),g=Math.round(2*c.imdbRating)/2,h=f-g;d("rating_s:"+f+"_d:"+h)}),f.delegate(".rec-reasons a","click",function(b){var c=a(this),e=c.attr("href");d("reason",e)}),f.delegate(".rec-title a","click",function(b){var c=a(this),e=c.attr("href");d("title",e)}),f.delegate(".rec_poster a","click",function(b){var c=a(this),e=c.attr("href");d("poster",e)}),a(b).on("itemrequest","#title_recs",function(a,b){d("selected_"+b.cause)}),a(b).on("rec_has_widget","#title_recs",function(a){d("has_widget")})}(jQuery,document)},{}],3:[function(a,b,c){"use strict";!function(a){a.widget("ui.rec_widget",{_create:function(){function b(a,b){a.find(".rec_overlay").removeClass("rec_is_pending").addClass(b)}function c(a,b){a.find(".rec_overlay").removeClass("rec_is_pending").removeClass(b)}function d(b){var c=a(".rec_item.rec_selected",j),d=a(".rec_page.rec_selected",j),f=c.next(),g=d.next();f.length>0?e(f,b):g.length>0?j.rec_slider("slideTo",g.index()):j.rec_slider("slideTo",0)}function e(b,c){var d=a(".rec_item",j),e=a(".rec_page",j),h=b.parent();0!==b.length&&(d.removeClass("rec_selected"),b.addClass("rec_selected"),g(b.attr("data-tconst"),b.attr("data-info"),j.attr("data-caller-name")),f(b.attr("data-spec").split(",")[0]),j.trigger("itemrequest",{cause:c,position:b.index()+1,curr_page:h.index()+1,max_pages:e.length}))}function f(b){var c=a("h2.rec_heading_wrapper [data-spec]"),d=c.filter('[data-spec="'+b+'"]');a("#title_recs").attr("class","rec_wrapper "+b.split(/:/)[0]);c.hide(),d.show()}function g(b,c,d){var e,f=a(".rec_overview",k),i=f.filter('[data-tconst="'+b+'"]'),m=a("#title_recs.rec_wrapper").attr("data-ref");m&&(e=m+"_rec_"),b&&(i.length>0?(f.hide(),i.show()):(l.addClass("rec_loading"),a.ajax({url:"/widget/recommendations/_ajax/get_title_info",type:"POST",data:{tconst:b,info:c,caller_name:d,ref_marker_prefix:e},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){h("Ajax error occured.")},success:function(e){var h,m;if(e&&200!=e.status)return void this.error(e);if(f=a(".rec_overview",k),i=f.filter('[data-tconst="'+b+'"]'),i.length>0)return void g(b,c,d);i=a(e.html_title_info),a("#lateload-recs-widget").find("link").remove(),f.hide(),k.append(i),h=a(".wlb_wrapper",i),m=a(".rating-list",i),l.removeClass("rec_loading");var n=i.find(".rec_poster_img");n.hasClass("loadlate")&&(n.attr("src",n.attr("loadlate")),n.removeClass("loadlate"),n.removeClass("hidden")),h.wlb_lite(),e.rating_info.uconst&&m.rating({uconst:e.rating_info.uconst,widgetClass:e.rating_info.widget_class,ajaxURL:"/ratings/_ajax/title",starWidth:e.rating_info.star_width,errorMessage:e.rating_info.error_message,images:{imdb:e.rating_info.images_imdb,off:e.rating_info.images_off,your:e.rating_info.images_your,del:e.rating_info.images_del,info:e.rating_info.images_info}}),j.trigger("recs_title_update")}})))}function h(a){"console"in window&&"log"in window.console&&window.console.log(a)}var i=this,j=i.element,k=a(".rec_overviews",j),l=a(".rec_spinner",j),m=(a(".rec_nav_left, .rec_nav_right",j),300);j.trigger("rec_has_widget"),j.delegate(".rec_item","click",function(){return e(a(this),"click"),!1}),j.delegate(".rec_item","mouseenter",function(){var b=this;this.timerId||(this.timerId=setTimeout(function(){e(a(b),"hover")},m))}),j.delegate(".rec_item","mouseleave",function(){this.timerId&&clearTimeout(this.timerId),this.timerId=null}),j.bind("rec_slider_slide",function(b){var c=a(".rec_page.rec_selected .rec_item",j).first();e(c,"slide")}),j.bind("rec_slider_init",function(b){var c=a(".rec_page.rec_selected .rec_item",j).first();e(c,"init")}),j.bind("wlb_user_interaction",function(){var c=(a(this),a(".rec_item.rec_selected",j));b(c,"rec_is_pending"),d("watchlist")}),j.delegate(".rating-stars a, .rating-cancel","click",function(){var c=(a(this),a(".rec_item.rec_selected",j));b(c,"rec_is_pending"),d("rating")}),j.bind("wlb_async_update",function(d,e){var f=(a(this),e.tconst),g=a('.rec_item[data-tconst="'+f+'"]',j);e.list_item_id?b(g,"rec_in_watchlist"):c(g,"rec_in_watchlist"),j.rec_slider("requestItems")}),j.bind("wlb_ready",function(b,c){if(c.inwatchlist){var d=c.tconst,e=a(".rec_actions",j).find("input").attr("value");a.ajax({url:"/widget/recommendations/_ajax/updatePersonalization",type:"POST",data:{tconst:d,xsrf:e,rating:"w"},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){h("Ajax error occured.")},success:function(a){return a&&200!=a.status?void this.error(a):void 0}})}}),j.delegate(".rating-list","change.rating",function(d,e){var f=e.tconst,g=a('.rec_item[data-tconst="'+f+'"]',j),h=g.find(".rec_rating_glyph"),i=e.rating<10?"&nbsp;"+e.rating:e.rating;e.rating>0&&"your"===e.state?(b(g,"rec_has_rating"),h.html(i)):c(g,"rec_has_rating"),j.rec_slider("requestItems")}),j.delegate(".rating-list","ready.rating",function(b,c){if("imdb"!=c.state){var d=a(this).closest(".rec_overview").find("input").attr("value");a.ajax({url:"/widget/recommendations/_ajax/updatePersonalization",type:"POST",data:{tconst:c.tconst,xsrf:d,rating:c.rating},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){h("Ajax error occured.")},success:function(a){return a&&200!=a.status?void this.error(a):void 0}})}}),j.delegate(".rec_actions .rec_not_interested","click",function(){var e=a(".rec_item.rec_selected",j),f=e.attr("data-tconst"),g=a(this).closest(".rec_actions").find("input").attr("value");a.ajax({url:"/widget/recommendations/_ajax/not_interested",type:"POST",data:{tconst:f,xsrf:g},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){h("Ajax error occured."),c(e,"rec_is_pending")},success:function(a){return a&&200!=a.status?void this.error(a):(b(e,"rec_is_blocked"),void j.rec_slider("requestItems"))}}),b(e,"rec_is_pending"),d("notInterested")}),j.delegate(".rec_actions .rec_next","click",function(){d("next")}),j.rec_slider(),a(window).trigger("bindloadlate")}}),a(function(){a("img.rec_placeholder").each(function(){var b=a(this);b.parent().load(b.attr("data-widget")),a("#lateload-recs-widget").find("link").remove()})})}(jQuery)},{}],4:[function(a,b,c){"use strict";!function(a){function b(a){"consoleLog"in window?consoleLog(a,"recs"):"console"in window&&"log"in window.console&&window.console.log(a)}var c=6;a.widget("ui.rec_slider",{_create:function(){var b=this,c=b.element;a.extend(b,{$slide:a(".rec_slide",c),$left:a(".rec_nav_left",c),$right:a(".rec_nav_right",c),$page_num:a(".rec_nav_page_num",c),specs:c.attr("data-specs").split(","),per_req:c.attr("data-items-per-request"),per_page:c.attr("data-items-per-page"),caller_name:c.attr("data-caller-name")}),b.$right.click(function(){var d=a(".rec_page.rec_selected",c).index();a(this).hasClass("disabled")||b.slideTo(d+1)}),b.$left.click(function(){var d=a(".rec_page.rec_selected",c).index();a(this).hasClass("disabled")||b.slideTo(d-1)}),b.updateNav(),a(".rec_page",c).length<=1&&b.requestItems()},updateNav:function(){var b=this,c=b.element,d=a(".rec_page",c),e=d.length-1,f=0;0===d.filter(".rec_selected").length&&(d.eq(0).addClass("rec_selected"),c.trigger("rec_slider_init")),f=d.filter(".rec_selected").index(),0>=f?b.$left.addClass("rec_nav_disabled"):b.$left.removeClass("rec_nav_disabled"),f>=e?b.$right.addClass("rec_nav_disabled"):b.$right.removeClass("rec_nav_disabled"),b.$slide.width(d.width()*d.length)},slideTo:function(b){var c=this,d=c.element,e=a(".rec_page",d),f=e.length-1,g=e.filter(".rec_selected").index(),h=b-g;0!==e.length&&(b>=0&&f>=b&&(this.timerId&&clearTimeout(c.timerId),e.removeClass("rec_selected"),e.eq(b).addClass("rec_selected"),c.$slide.stop().animate({left:-(e.width()*b)},function(){c.timerId=setTimeout(function(){d.trigger("rec_slider_slide")},10)}),c.$page_num.html(b+1+" of "+(f+1)),h>0&&c.requestItems()),c.updateNav())},requestItems:function(){var d,e=this,f=e.element,g=a(".rec_item",f),h=a(".rec_page",f),i=h.filter(".rec_selected").index(),j=h.length-1,k=e.specs[0],l=0,m=a("#title_recs.rec_wrapper").attr("data-ref");if(m&&(d=m+"_rec_tt"),!(j-1>i)){if(!k)return g.length<c&&f.parents(".article").hide(),void b("No more data is available.");l=g.filter('[data-spec*="'+k+'"]').length,a.ajax({url:"/widget/recommendations/_ajax/get_more_recs",type:"POST",data:{count:e.per_req,start:l,specs:e.specs.join(","),caller_name:e.caller_name,ref_marker:d},beforeSend:window.addClickstreamHeadersToAjax,error:function(d){b("Ajax error occured."),a(".rec_item",f).length<c&&f.parents(".article").hide()},success:function(d){var g=a('.rec_item[data-spec*="'+k+'"]',f),h=g.length,i=l;return d&&200==d.status?h>i?void b("Duplicate or overlapping request"):(d.spec&&d.heading&&e._insertHeading(d.spec,d.heading),"specs"in d&&(e.specs=d.specs.split(",")),d.spec&&"recommendations"in d&&e._insertItems(d.spec,d.recommendations)>=c&&f.parents(".article").show(),void f.trigger("recs_slider_update")):void this.error(d)}})}},_insertItems:function(b,c){var d=this,e=d.element,f=a(".rec_item",e),g=a(".rec_page:last",e),h=a(".rec_grave",e),i="none",j=f.length,k=0,l=0;return a.each(c,function(c,i){var j=f.filter('[data-tconst="'+i.tconst+'"]'),m=j.filter('[data-spec="'+b+'"]');if(!(m.length>0)){if(j.length>0)return k++,void h.append(a(i.content));(0===g.length||g.children().length>=d.per_page)&&(g=a("<div></div>").addClass("rec_page").appendTo(".rec_slide",e)),l++,g.append(a(i.content)),a("#lateload-recs-widget").find("link").remove()}}),k+l===0?d.specs[0]===b&&d.specs.shift():l>0&&(0===j&&(i=a(".rec_page:eq(0) .rec_item:eq(0)").attr("data-spec"),e.trigger("rec_items_loaded",i)),a(window).trigger("bindloadlate"),d.updateNav()),l<=d.per_page&&d.requestItems(),l},_insertHeading:function(b,c){var d=a("h2.rec_heading_wrapper"),e=d.find('[data-spec="'+b+'"]');0===e.length&&a("<span></span>").attr("data-spec",b).html(c).hide().appendTo(d)}})}(jQuery)},{}],5:[function(a,b,c){"use strict";a(1),a(2),a(3),a(4)},{1:1,2:2,3:3,4:4}]},{},[5]);